{"version":3,"sources":["webpack:///ask/js/27.44ec6b2feaace78c04d6.js","webpack:///./src/page/myinfo/modifypd.vue","webpack:///./src/components/common/mUtils.js?55f8**************************","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574**************************","webpack:///./~/core-js/library/fn/json/stringify.js?6708**************************","webpack:///./src/page/myinfo/modifypd.vue?747f","webpack:///modifypd.vue","webpack:///./src/page/myinfo/modifypd.vue?60fb","webpack:///./src/page/myinfo/modifypd.vue?599e"],"names":["webpackJsonp","155","module","exports","__webpack_require__","Component","162","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","d","setStore","getStore","removeStore","imgBaseUrl","upImgBaseUrl","getUserAvatar","name","content","window","localStorage","setItem","getItem","removeItem","avatarPath","indexOf","163","default","__esModule","164","core","$JSON","JSON","stringify","it","apply","arguments","332","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","376","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_mint_ui__","__WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__","data","userToken","iphone","iphoneCode","passWrod","iphoneCodeBtnText","codeTime","codeBtnDisabled","created","mounted","this","components","methods","handleBack","$router","go","gotoAddress","path","handleModeify","_this2","showMsg","params","tel","verifyCode","newpassword","confirm","then","action","changepassword","response","_this3","getUrl","CFWConfig","APIHost","$http","post","objToformData","msg","code","setTimeout","console","log","handleIphonCode","_this4","getSmscode","callback","text","clearTimeout","intervalTime","setInterval","obj","FormData","forEach","key","append","message","duration","412","locals","482","render","_vm","_h","$createElement","_c","_self","attrs","id","title","icon","on","click","slot","_v","label","placeholder","type","model","$$v","expression","directives","rawName","size","nativeOn","$event","_s","staticClass","staticRenderFns"],"mappings":"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","file":"ask/js/27.44ec6b2feaace78c04d6.js","sourcesContent":["webpackJsonp([27],{\n\n/***/ 155:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(412)\n\nvar Component = __webpack_require__(28)(\n  /* script */\n  __webpack_require__(376),\n  /* template */\n  __webpack_require__(482),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return setStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return removeStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return imgBaseUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return upImgBaseUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getUserAvatar; });\n/* unused harmony export isInArray */\n\n\nvar setStore = function setStore(name, content) {\n\tif (!name) return;\n\tif (typeof content !== 'string') {\n\t\tcontent = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(content);\n\t}\n\twindow.localStorage.setItem(name, content);\n};\n\nvar getStore = function getStore(name) {\n\tif (!name) return;\n\treturn window.localStorage.getItem(name);\n};\n\nvar removeStore = function removeStore(name) {\n\tif (!name) return;\n\twindow.localStorage.removeItem(name);\n};\n\nvar baseUrl = void 0;\nvar imgBaseUrl = '//p.07358.com/';\n\n\nvar upImgBaseUrl = 'http://qpic.07358.com/';\n\n\nvar getUserAvatar = function getUserAvatar(avatarPath) {\n\tif (avatarPath == '' || !avatarPath) {\n\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\";\n\t} else {\n\t\tvar indexOf = avatarPath.indexOf('http://tu.07358.com');\n\t\tif (indexOf != -1) {\n\t\t\treturn avatarPath;\n\t\t} else {\n\t\t\tif (avatarPath == '          ') {\n\t\t\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\";\n\t\t\t} else {\n\t\t\t\treturn imgBaseUrl + avatarPath;\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar isInArray = function isInArray(arr, value) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (value === arr[i]) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(164), __esModule: true };\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(3)\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ 332:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(58)();\n// imports\n\n\n// module\nexports.push([module.i, \"#warp{margin:10px auto}#warp .loginTitle{font-size:20px;line-height:60px}.loginBtnTop{border-top:1px solid #eee;height:30px}.bottomBtn{width:80%;margin:5px auto}\", \"\", {\"version\":3,\"sources\":[\"/Users/kb/Desktop/code/CFWASK/src/page/myinfo/modifypd.vue\"],\"names\":[],\"mappings\":\"AAGA,MAEE,gBAAkB,CACnB,AACD,kBACE,eAAe,AAEf,gBAAkB,CACnB,AACD,aACE,0BAA2B,AAC3B,WAAa,CACd,AACD,WACE,UAAW,AACX,eAAkB,CACnB\",\"file\":\"modifypd.vue\",\"sourcesContent\":[\"\\n#login{\\n}\\n#warp{\\n  /*width: 95%;*/\\n  margin: 10px auto;\\n}\\n#warp .loginTitle{\\n  font-size:20px;\\n  /*height: 60px;*/\\n  line-height: 60px;\\n}\\n.loginBtnTop{\\n  border-top: 1px solid #EEE;\\n  height: 30px;\\n}\\n.bottomBtn{\\n  width: 80%;\\n  margin:  5px auto;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 376:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__ = __webpack_require__(162);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      userToken: '',\n      iphone: '',\n      iphoneCode: '',\n      passWrod: '',\n      iphoneCodeBtnText: '发送验证码',\n      codeTime: 60,\n      codeBtnDisabled: false\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    this.userToken = __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__[\"c\" /* getStore */])('userToken');\n  },\n\n  components: {},\n  methods: {\n    handleBack: function handleBack() {\n      this.$router.go(-1);\n    },\n    gotoAddress: function gotoAddress(path) {\n      this.$router.push(path);\n    },\n    handleModeify: function handleModeify() {\n      var _this2 = this;\n\n      if (!this.iphone) {\n        this.showMsg('请输入手机号！');\n        return;\n      }\n      if (!this.iphoneCode) {\n        this.showMsg('请输入验证码！');\n        return;\n      }\n      if (!this.passWrod) {\n        this.showMsg('请输入用户密码！');\n        return;\n      }\n\n      var params = {\n        tel: this.iphone,\n        verifyCode: this.iphoneCode,\n        newpassword: this.passWrod\n      };\n      __WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"MessageBox\"].confirm('确定修改吗！').then(function (action) {\n        _this2.changepassword(params);\n      }, function (response) {});\n    },\n    changepassword: function changepassword(params) {\n      var _this3 = this;\n\n      var getUrl = this.CFWConfig.APIHost + '/v3/user/changepassword';\n      this.$http.post(getUrl, this.objToformData(params)).then(function (response) {\n        _this3.showMsg(response.data.msg);\n        if (response.data.code == 200) {\n          setTimeout(function () {\n            _this3.handleBack();\n          }, 1500);\n        }\n      }, function (response) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])('请求失败');\n        console.log(response);\n      });\n    },\n    handleIphonCode: function handleIphonCode() {\n      var _this4 = this;\n\n      if (this.iphone && !this.codeBtnDisabled) {\n        this.codeBtnDisabled = 1;\n\n        this.getSmscode(this.iphone);\n        var _this = this;\n        var callback = function callback() {\n          if (_this4.codeTime > 0) {\n            var text = _this4.codeTime--;\n            _this4.iphoneCodeBtnText = text + 's';\n          } else {\n            _this4.codeBtnDisabled = 0;\n            _this4.iphoneCodeBtnText = '发送验证码';\n            clearTimeout(_this4.intervalTime);\n            _this4.codeTime = 10;\n          }\n        };\n\n        this.intervalTime = setInterval(callback, 1000);\n      }\n    },\n    getSmscode: function getSmscode(iphone) {\n      var getUrl = this.CFWConfig.APIHost + '/v3/user/sendsmscode';\n      this.$http.post(getUrl, { tel: iphone }).then(function (response) {\n        var code = response.data.code;\n        if (code == 200) {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])('验证码已送到您手机！');\n        } else {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])(response.data.msg);\n        }\n      }, function (response) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])('获取验证码失败');\n      });\n    },\n    objToformData: function objToformData(obj) {\n      var params = new FormData();\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(obj).forEach(function (key, i) {\n        params.append(key, obj[key]);\n      });\n      return params;\n    },\n    showMsg: function showMsg(msg) {\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])({\n        message: msg,\n        duration: 800\n      });\n    }\n  }\n\n});\n\n/***/ }),\n\n/***/ 412:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(332);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(130)(\"38c110e0\", content, true);\n\n/***/ }),\n\n/***/ 482:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"login\"\n    }\n  }, [_c('mt-header', {\n    attrs: {\n      \"title\": \"修改密码\"\n    }\n  }, [_c('mt-button', {\n    attrs: {\n      \"icon\": \"back\"\n    },\n    on: {\n      \"click\": _vm.handleBack\n    },\n    slot: \"left\"\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"warp\"\n    }\n  }, [_c('mt-field', {\n    attrs: {\n      \"label\": \"手机号\",\n      \"placeholder\": \"请输入手机号\",\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.iphone),\n      callback: function($$v) {\n        _vm.iphone = $$v\n      },\n      expression: \"iphone\"\n    }\n  }), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"placeholder\": \"短信验证码\",\n      \"type\": \"number\"\n    },\n    model: {\n      value: (_vm.iphoneCode),\n      callback: function($$v) {\n        _vm.iphoneCode = $$v\n      },\n      expression: \"iphoneCode\"\n    }\n  }, [_c('mt-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.iphone),\n      expression: \"iphone\"\n    }],\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.handleIphonCode()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.iphoneCodeBtnText))])], 1), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"新密码\",\n      \"placeholder\": \"请输入新密码\",\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.passWrod),\n      callback: function($$v) {\n        _vm.passWrod = $$v\n      },\n      expression: \"passWrod\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginBtnTop\"\n  }), _vm._v(\" \"), _c('mt-button', {\n    staticClass: \"bottomBtn\",\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleModeify()\n      }\n    }\n  }, [_vm._v(\"确认修改\")])], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ask/js/27.44ec6b2feaace78c04d6.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-7037c63a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./modifypd.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./modifypd.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7037c63a\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./modifypd.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/myinfo/modifypd.vue\n// module id = 155\n// module chunks = 27","/**\n * 存储localStorage\n */\nexport const setStore = (name, content) => {\n\tif (!name) return;\n\tif (typeof content !== 'string') {\n\t\tcontent = JSON.stringify(content);\n\t}\n\twindow.localStorage.setItem(name, content);\n}\n\n/**\n * 获取localStorage\n */\nexport const getStore = name => {\n\tif (!name) return;\n\treturn window.localStorage.getItem(name);\n}\n\n/**\n * 删除localStorage\n */\nexport const removeStore = name => {\n\tif (!name) return;\n\twindow.localStorage.removeItem(name);\n}\n\n// imgBaseUrl: 图片所在域名地址\nlet baseUrl;\nconst imgBaseUrl = '//p.07358.com/';\nexport {\n\timgBaseUrl,\n}\n\nconst upImgBaseUrl = 'http://qpic.07358.com/';\nexport {\n\tupImgBaseUrl,\n}\n\n//  用户头像\nexport const getUserAvatar = avatarPath => {\n\tif (avatarPath == '' || !avatarPath ) {\n\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\"\n\t}else {\n\t\tlet indexOf = avatarPath.indexOf('http://tu.07358.com')\n\t\tif(indexOf != -1){\n\t\t\treturn avatarPath\n\t\t}else {\n\t\t\tif (avatarPath == '          ') {\n\t\t\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\"\n\t\t\t}else {\n\t\t\t\treturn imgBaseUrl + avatarPath\n\t\t\t}\n\t\t}\n\t}\n}\n\n// 判断一个元素是否在数组中\nexport const isInArray = (arr,value) =>{\n\tfor(var i = 0; i < arr.length; i++){\n\t\t\tif(value === arr[i]){\n\t\t\t\t\treturn true;\n\t\t\t}\n\t}\n\treturn false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/mUtils.js","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 163\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 164\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29","exports = module.exports = require(\"../../../node_modules/._css-loader@0.26.4@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#warp{margin:10px auto}#warp .loginTitle{font-size:20px;line-height:60px}.loginBtnTop{border-top:1px solid #eee;height:30px}.bottomBtn{width:80%;margin:5px auto}\", \"\", {\"version\":3,\"sources\":[\"/Users/kb/Desktop/code/CFWASK/src/page/myinfo/modifypd.vue\"],\"names\":[],\"mappings\":\"AAGA,MAEE,gBAAkB,CACnB,AACD,kBACE,eAAe,AAEf,gBAAkB,CACnB,AACD,aACE,0BAA2B,AAC3B,WAAa,CACd,AACD,WACE,UAAW,AACX,eAAkB,CACnB\",\"file\":\"modifypd.vue\",\"sourcesContent\":[\"\\n#login{\\n}\\n#warp{\\n  /*width: 95%;*/\\n  margin: 10px auto;\\n}\\n#warp .loginTitle{\\n  font-size:20px;\\n  /*height: 60px;*/\\n  line-height: 60px;\\n}\\n.loginBtnTop{\\n  border-top: 1px solid #EEE;\\n  height: 30px;\\n}\\n.bottomBtn{\\n  width: 80%;\\n  margin:  5px auto;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-7037c63a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/myinfo/modifypd.vue\n// module id = 332\n// module chunks = 27","<template>\n  <div id=\"login\">\n    <mt-header title=\"修改密码\">\n      <mt-button  icon=\"back\" slot=\"left\" @click=\"handleBack\">返回</mt-button>\n    </mt-header>\n\n    <div id=\"warp\">\n      <mt-field label=\"手机号\" placeholder=\"请输入手机号\" type=\"tel\" v-model=\"iphone\"></mt-field>\n      <mt-field label=\"验证码\" placeholder=\"短信验证码\" type=\"number\" v-model=\"iphoneCode\">\n        <mt-button size=\"small\" type=\"primary\" @click.native=\"handleIphonCode()\" v-show=\"iphone\">{{iphoneCodeBtnText}}</mt-button>\n\n      </mt-field>\n      <mt-field label=\"新密码\" placeholder=\"请输入新密码\" type=\"password\" v-model=\"passWrod\"></mt-field>\n      <div class=\"loginBtnTop\"></div>\n      <mt-button  type=\"primary\" size=\"large\" @click=\"handleModeify()\" class=\"bottomBtn\">确认修改</mt-button>\n    </div>\n\n  </div>\n</template>\n\n<script>\nimport { Toast , MessageBox} from 'mint-ui';\nimport {getStore} from '../../components/common/mUtils'\nexport default {\n  data(){\n    return{\n      userToken:'',\n      iphone:'',\n      iphoneCode:'',\n      passWrod:'',\n      iphoneCodeBtnText:'发送验证码',\n      codeTime:60,\n      codeBtnDisabled:false,\n    }\n  },\n  created(){\n  },\n  mounted(){\n    this.userToken = getStore('userToken')\n  },\n  components:{\n  },\n  methods: {\n    handleBack(){\n      this.$router.go(-1);\n    },\n    gotoAddress(path){\n      this.$router.push(path)\n    },\n    // 注册\n    handleModeify(){\n      if (!this.iphone) {\n        this.showMsg('请输入手机号！')\n        return\n      }\n      if (!this.iphoneCode) {\n        this.showMsg('请输入验证码！')\n        return\n      }\n      if (!this.passWrod) {\n        this.showMsg('请输入用户密码！')\n        return\n      }\n\n      let params = {\n        tel:this.iphone,\n        verifyCode:this.iphoneCode,\n        newpassword:this.passWrod,\n      }\n      MessageBox.confirm('确定修改吗！').then(action => {\n        // post 修改密码\n        this.changepassword(params)\n      }, response => {\n      });\n    },\n    // post 修改密码\n    changepassword(params){\n      let getUrl = this.CFWConfig.APIHost + '/v3/user/changepassword'\n      this.$http.post(getUrl,this.objToformData(params)).then(response => {\n        this.showMsg(response.data.msg)\n        if (response.data.code == 200) {\n          setTimeout(() => {\n            this.handleBack()\n          }, 1500);\n        }\n      }, response => {\n        Toast('请求失败');\n        console.log(response);\n      });\n    },\n    // 发送验证码\n    handleIphonCode(){\n      if (this.iphone && !this.codeBtnDisabled) {\n        this.codeBtnDisabled = 1;\n\n        this.getSmscode(this.iphone);\n        var _this = this;\n        var callback = ()=>{\n          if (this.codeTime > 0) {\n              let text = this.codeTime --\n              this.iphoneCodeBtnText = text+'s'\n          }else {\n            this.codeBtnDisabled = 0;\n            this.iphoneCodeBtnText = '发送验证码'\n            clearTimeout(this.intervalTime);\n            this.codeTime = 10\n          }\n        }\n\n        this.intervalTime = setInterval(callback,1000);\n      }\n    },\n    // 发送验证码\n    getSmscode(iphone){\n      let getUrl = this.CFWConfig.APIHost + '/v3/user/sendsmscode'\n      this.$http.post(getUrl,{tel:iphone}).then(response => {\n        let code = response.data.code;\n        if (code == 200) {\n          Toast('验证码已送到您手机！')\n        }else {\n          Toast(response.data.msg)\n        }\n      }, response => {\n        Toast('获取验证码失败')\n      });\n    },\n    // 参数转化成表单对象\n    objToformData(obj){\n      // let params = new URLSearchParams()\n      let params = new FormData()\n      Object.keys(obj).forEach( (key, i) => {\n        params.append(key, obj[key]);\n      });\n      return params;\n    },\n    showMsg(msg){\n      Toast({\n        message:msg,\n        duration: 800\n      });\n    },\n  },\n\n}\n</script>\n\n<style>\n#login{\n\n}\n#warp{\n  /*width: 95%;*/\n  margin: 10px auto;\n}\n#warp .loginTitle{\n  font-size:20px;\n  /*height: 60px;*/\n  line-height: 60px;\n}\n.loginBtnTop{\n  border-top: 1px solid #EEE;\n  height: 30px;\n}\n\n.bottomBtn{\n  width: 80%;\n  margin:  5px auto;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// modifypd.vue?139a40c0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/._css-loader@0.26.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-7037c63a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./modifypd.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"38c110e0\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/._css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-7037c63a\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/myinfo/modifypd.vue\n// module id = 412\n// module chunks = 27","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"login\"\n    }\n  }, [_c('mt-header', {\n    attrs: {\n      \"title\": \"修改密码\"\n    }\n  }, [_c('mt-button', {\n    attrs: {\n      \"icon\": \"back\"\n    },\n    on: {\n      \"click\": _vm.handleBack\n    },\n    slot: \"left\"\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"warp\"\n    }\n  }, [_c('mt-field', {\n    attrs: {\n      \"label\": \"手机号\",\n      \"placeholder\": \"请输入手机号\",\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.iphone),\n      callback: function($$v) {\n        _vm.iphone = $$v\n      },\n      expression: \"iphone\"\n    }\n  }), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"placeholder\": \"短信验证码\",\n      \"type\": \"number\"\n    },\n    model: {\n      value: (_vm.iphoneCode),\n      callback: function($$v) {\n        _vm.iphoneCode = $$v\n      },\n      expression: \"iphoneCode\"\n    }\n  }, [_c('mt-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.iphone),\n      expression: \"iphone\"\n    }],\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.handleIphonCode()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.iphoneCodeBtnText))])], 1), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"新密码\",\n      \"placeholder\": \"请输入新密码\",\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.passWrod),\n      callback: function($$v) {\n        _vm.passWrod = $$v\n      },\n      expression: \"passWrod\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginBtnTop\"\n  }), _vm._v(\" \"), _c('mt-button', {\n    staticClass: \"bottomBtn\",\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleModeify()\n      }\n    }\n  }, [_vm._v(\"确认修改\")])], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-7037c63a\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/page/myinfo/modifypd.vue\n// module id = 482\n// module chunks = 27"],"sourceRoot":""}