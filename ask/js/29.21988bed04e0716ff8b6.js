webpackJsonp([29],{153:function(e,t,n){n(393);var o=n(28)(n(371),n(463),null,null);e.exports=o.exports},162:function(e,t,n){"use strict";var o=n(163),i=n.n(o);n.d(t,"d",function(){return s}),n.d(t,"c",function(){return r}),n.d(t,"e",function(){return a}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return d});var s=function(e,t){e&&("string"!=typeof t&&(t=i()(t)),window.localStorage.setItem(e,t))},r=function(e){if(e)return window.localStorage.getItem(e)},a=function(e){e&&window.localStorage.removeItem(e)},l="//p.07358.com/",c="http://qpic.07358.com/",d=function(e){if(""!=e&&e){return-1!=e.indexOf("http://tu.07358.com")?e:"          "==e?"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y":l+e}return"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y"}},163:function(e,t,n){e.exports={default:n(164),__esModule:!0}},164:function(e,t,n){var o=n(3),i=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return i.stringify.apply(i,arguments)}},313:function(e,t,n){t=e.exports=n(58)(),t.push([e.i,"#warp{width:95%;margin:30px auto}#warp .loginTitle{font-size:20px;line-height:60px}.loginBtnTop{border-top:1px solid #eee;height:30px}#login .loginBtnBottom{margin-top:15px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-ms-flex-direction:row;flex-direction:row;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;padding:3px;color:#999}.mint-tab-item-label{font-size:16px}#login .loginBtnBottom span{font-size:15px}#login .loginBtnBottom .reg{color:#ef5350;font-weight:700}","",{version:3,sources:["/Users/kb/Desktop/code/CFWASK/src/page/login/login.vue"],names:[],mappings:"AAGA,MACE,UAAW,AACX,gBAAkB,CACnB,AACD,kBACE,eAAe,AAEf,gBAAkB,CACnB,AACD,aACE,0BAA2B,AAC3B,WAAa,CACd,AACD,uBACE,gBAAiB,AAEjB,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,8BAA+B,AAC/B,6BAA8B,AAC1B,uBAAwB,AACpB,mBAAoB,AAC5B,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,YAAa,AACb,UAAW,CACZ,AACD,qBACE,cAAgB,CACjB,AACD,4BACE,cAAgB,CACjB,AACD,4BACE,cAAe,AACf,eAAkB,CACnB",file:"login.vue",sourcesContent:["\n#login{\n}\n#warp{\n  width: 95%;\n  margin: 30px auto;\n}\n#warp .loginTitle{\n  font-size:20px;\n  /*height: 60px;*/\n  line-height: 60px;\n}\n.loginBtnTop{\n  border-top: 1px solid #EEE;\n  height: 30px;\n}\n#login .loginBtnBottom{\n  margin-top: 15px;\n  /*background-color: #ef5350;*/\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  padding: 3px;\n  color:#999;\n}\n.mint-tab-item-label{\n  font-size: 16px;\n}\n#login .loginBtnBottom span{\n  font-size: 15px;\n}\n#login .loginBtnBottom .reg{\n  color: #ef5350;\n  font-weight: bold;\n}\n"],sourceRoot:""}])},371:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(29),i=(n.n(o),n(162));t.default={data:function(){return{selected:"1",iphone:"",userpwd:"",iphoneCode:"",codeBtnDisabled:!1,iphoneCodeBtnText:"发送验证码",codeTime:60,intervalTime:{}}},created:function(){},mounted:function(){},components:{},methods:{handleBack:function(){this.$router.go(-1)},gotoAddress:function(e){this.$router.push(e)},handleLogin:function(){var e=this,t=void 0,s=void 0;if(1==this.selected){if(!this.iphone)return void this.showMsg("请输入用户名！");if(!this.userpwd)return void this.showMsg("请输入用户密码！");t=this.CFWConfig.APIHost+"/v1/user/login/user",s={username:this.iphone,password:this.userpwd}}else{if(!this.iphone)return void this.showMsg("请输入手机号！");if(!this.iphoneCode)return void this.showMsg("请输入验证码！");t=this.CFWConfig.APIHost+"/v1/user/login/tel";var r=Date.parse(new Date);s={tel:this.iphone,verifyCode:this.iphoneCode,key:r}}this.$http.post(t,s,{method:"POST"}).then(function(t){if(t.data.error)n.i(o.Toast)(t.data.explain);else{var s=t.data;n.i(i.d)("userID",s.id),n.i(i.d)("userToken",s.accessToken),e.handleBack()}},function(e){n.i(o.Toast)("请求失败"),console.log(e)})},handleIphonCode:function(){this.iphone&&!this.codeBtnDisabled&&(this.codeBtnDisabled=1,this.getSmscode(this.iphone))},getSmscode:function(e){var t=this,n=this.CFWConfig.APIHost+"/v1/user/verify",o=this;this.$http.post(n,{tel:e}).then(function(e){e.data.code;if(e.data.success){o.showMsg("验证码已送到您手机！");var n=function(){if(t.codeTime>0){var e=t.codeTime--;t.iphoneCodeBtnText=e+"s"}else t.codeBtnDisabled=0,t.iphoneCodeBtnText="发送验证码",clearTimeout(t.intervalTime),t.codeTime=10};t.intervalTime=setInterval(n,1e3)}else o.showMsg("获取验证码失败")},function(e){o.showMsg("获取验证码失败")})},showMsg:function(e){n.i(o.Toast)({message:e,duration:800})}}}},393:function(e,t,n){var o=n(313);"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n(130)("f2f650a0",o,!0)},463:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"login"}},[n("mt-header",{attrs:{title:"登录"}},[n("mt-button",{attrs:{icon:"back"},on:{click:e.handleBack},slot:"left"},[e._v("返回")])],1),e._v(" "),n("mt-navbar",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[n("mt-tab-item",{attrs:{id:"1"}},[e._v("账号登录")]),e._v(" "),n("mt-tab-item",{attrs:{id:"2"}},[e._v("手机登录")])],1),e._v(" "),n("div",{attrs:{id:"warp"}},[n("mt-tab-container",{model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[n("mt-tab-container-item",{attrs:{id:"1"}},[n("mt-field",{attrs:{label:"账  号",placeholder:"请输入账号"},model:{value:e.iphone,callback:function(t){e.iphone=t},expression:"iphone"}}),e._v(" "),n("mt-field",{attrs:{label:"密  码",placeholder:"请输入密码",type:"password"},model:{value:e.userpwd,callback:function(t){e.userpwd=t},expression:"userpwd"}}),e._v(" "),n("div",{staticClass:"loginBtnTop"})],1),e._v(" "),n("mt-tab-container-item",{attrs:{id:"2"}},[n("mt-field",{attrs:{label:"手机号",placeholder:"请输入手机号",type:"tel"},model:{value:e.iphone,callback:function(t){e.iphone=t},expression:"iphone"}}),e._v(" "),n("mt-field",{attrs:{label:"验证码",placeholder:"验证码",type:"number"},model:{value:e.iphoneCode,callback:function(t){e.iphoneCode=t},expression:"iphoneCode"}},[n("mt-button",{directives:[{name:"show",rawName:"v-show",value:11==e.iphone.length,expression:"iphone.length==11"}],attrs:{size:"small",type:"primary"},nativeOn:{click:function(t){e.handleIphonCode()}}},[e._v(e._s(e.iphoneCodeBtnText))])],1),e._v(" "),n("div",{staticClass:"loginBtnTop"})],1)],1),e._v(" "),n("mt-button",{attrs:{type:"primary",size:"large"},on:{click:function(t){e.handleLogin()}}},[e._v("登  录")]),e._v(" "),n("div",{staticClass:"loginBtnBottom"},[n("span",{staticClass:"reg",on:{click:function(t){e.gotoAddress("/register")}}},[e._v("立即注册")])])],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=29.21988bed04e0716ff8b6.js.map