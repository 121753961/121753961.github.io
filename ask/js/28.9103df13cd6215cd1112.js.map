{"version":3,"sources":["webpack:///ask/js/28.9103df13cd6215cd1112.js","webpack:///./src/page/myinfo/register.vue","webpack:///./src/components/common/mUtils.js?55f8***************************","webpack:///./~/babel-runtime/core-js/json/stringify.js?4574***************************","webpack:///./~/core-js/library/fn/json/stringify.js?6708***************************","webpack:///./src/page/myinfo/register.vue?8808","webpack:///register.vue","webpack:///./src/page/myinfo/register.vue?5985","webpack:///./src/page/myinfo/register.vue?f203"],"names":["webpackJsonp","160","module","exports","__webpack_require__","Component","162","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default","n","d","setStore","getStore","removeStore","imgBaseUrl","upImgBaseUrl","getUserAvatar","name","content","window","localStorage","setItem","getItem","removeItem","avatarPath","indexOf","163","default","__esModule","164","core","$JSON","JSON","stringify","it","apply","arguments","329","push","i","version","sources","names","mappings","file","sourcesContent","sourceRoot","381","Object","defineProperty","value","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","__WEBPACK_IMPORTED_MODULE_1_mint_ui__","__WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__","data","iphone","iphoneCode","passWrod","codeBtnDisabled","iphoneCodeBtnText","yqm","codeTime","agreement","intervalTime","created","mounted","components","methods","handleBack","this","$router","go","gotoAddress","path","handleRegister","_this2","showMsg","params","tel","verifyCode","newpassword","getUrl","CFWConfig","APIHost","$http","post","objToformData","then","response","console","log","code","msg","message","result","id","accessToken","setTimeout","obj","FormData","forEach","key","append","handleIphonCode","_this3","getSmscode","callback","text","clearTimeout","setInterval","intervalT","duration","409","locals","479","render","_vm","_h","$createElement","_c","_self","attrs","title","icon","on","click","slot","_v","label","placeholder","type","model","$$v","expression","directives","rawName","length","size","nativeOn","$event","_s","staticClass","_e","staticRenderFns"],"mappings":"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","file":"ask/js/28.9103df13cd6215cd1112.js","sourcesContent":["webpackJsonp([28],{\n\n/***/ 160:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(409)\n\nvar Component = __webpack_require__(28)(\n  /* script */\n  __webpack_require__(381),\n  /* template */\n  __webpack_require__(479),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 162:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__ = __webpack_require__(163);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"d\", function() { return setStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"c\", function() { return getStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"e\", function() { return removeStore; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"a\", function() { return imgBaseUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"b\", function() { return upImgBaseUrl; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"f\", function() { return getUserAvatar; });\n/* unused harmony export isInArray */\n\n\nvar setStore = function setStore(name, content) {\n\tif (!name) return;\n\tif (typeof content !== 'string') {\n\t\tcontent = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_json_stringify___default()(content);\n\t}\n\twindow.localStorage.setItem(name, content);\n};\n\nvar getStore = function getStore(name) {\n\tif (!name) return;\n\treturn window.localStorage.getItem(name);\n};\n\nvar removeStore = function removeStore(name) {\n\tif (!name) return;\n\twindow.localStorage.removeItem(name);\n};\n\nvar baseUrl = void 0;\nvar imgBaseUrl = '//p.07358.com/';\n\n\nvar upImgBaseUrl = 'http://qpic.07358.com/';\n\n\nvar getUserAvatar = function getUserAvatar(avatarPath) {\n\tif (avatarPath == '' || !avatarPath) {\n\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\";\n\t} else {\n\t\tvar indexOf = avatarPath.indexOf('http://tu.07358.com');\n\t\tif (indexOf != -1) {\n\t\t\treturn avatarPath;\n\t\t} else {\n\t\t\tif (avatarPath == '          ') {\n\t\t\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\";\n\t\t\t} else {\n\t\t\t\treturn imgBaseUrl + avatarPath;\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar isInArray = function isInArray(arr, value) {\n\tfor (var i = 0; i < arr.length; i++) {\n\t\tif (value === arr[i]) {\n\t\t\treturn true;\n\t\t}\n\t}\n\treturn false;\n};\n\n/***/ }),\n\n/***/ 163:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = { \"default\": __webpack_require__(164), __esModule: true };\n\n/***/ }),\n\n/***/ 164:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar core  = __webpack_require__(3)\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n/***/ }),\n\n/***/ 329:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(58)();\n// imports\n\n\n// module\nexports.push([module.i, \"#warp{margin:10px auto}#warp .loginTitle{font-size:20px;line-height:60px}.seitchBtn{width:60px}.seitchText{width:200px;text-align:left}.seitchText strong{color:blue}.loginBtnTop{border-top:1px solid #eee;height:30px}\", \"\", {\"version\":3,\"sources\":[\"/Users/kb/Desktop/code/CFWASK/src/page/myinfo/register.vue\"],\"names\":[],\"mappings\":\"AAGA,MAEE,gBAAkB,CACnB,AACD,kBACE,eAAe,AAEf,gBAAkB,CACnB,AACD,WAEE,UAAY,CACb,AACD,YACE,YAAa,AACb,eAAiB,CAElB,AACD,mBACE,UAAY,CACb,AACD,aACE,0BAA2B,AAC3B,WAAa,CACd\",\"file\":\"register.vue\",\"sourcesContent\":[\"\\n#login{\\n}\\n#warp{\\n  /*width: 95%;*/\\n  margin: 10px auto;\\n}\\n#warp .loginTitle{\\n  font-size:20px;\\n  /*height: 60px;*/\\n  line-height: 60px;\\n}\\n.seitchBtn{\\n  /*border: 1px solid red;*/\\n  width: 60px;\\n}\\n.seitchText{\\n  width: 200px;\\n  text-align: left;\\n  /*border: 1px solid green;*/\\n}\\n.seitchText strong{\\n  color: blue;\\n}\\n.loginBtnTop{\\n  border-top: 1px solid #EEE;\\n  height: 30px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 381:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui__ = __webpack_require__(29);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__ = __webpack_require__(162);\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  data: function data() {\n    return {\n      iphone: '',\n      iphoneCode: '',\n      passWrod: '',\n      codeBtnDisabled: false,\n      iphoneCodeBtnText: '发送验证码',\n      yqm: '',\n      codeTime: 60,\n      agreement: true,\n      intervalTime: {}\n\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {},\n\n  components: {},\n  methods: {\n    handleBack: function handleBack() {\n      this.$router.go(-1);\n    },\n    gotoAddress: function gotoAddress(path) {\n      this.$router.push(path);\n    },\n    handleRegister: function handleRegister() {\n      var _this2 = this;\n\n      if (!this.iphone) {\n        this.showMsg('请输入手机号码！');\n        return;\n      }\n      if (!this.iphoneCode) {\n        this.showMsg('请输入验证码！');\n        return;\n      }\n      if (!this.passWrod) {\n        this.showMsg('请设置密码！');\n        return;\n      }\n\n      var params = {\n        tel: this.iphone,\n        verifyCode: this.iphoneCode,\n        newpassword: this.passWrod\n      };\n\n      var getUrl = this.CFWConfig.APIHost + '/v3/user/reg';\n      var _this = this;\n      this.$http.post(getUrl, this.objToformData(params)).then(function (response) {\n        console.log(response.data);\n        var code = response.data.code;\n        var msg = response.data.message;\n        var user = response.data.result;\n        if (code == 200) {\n          var result = response.data;\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__[\"d\" /* setStore */])('userID', result.id);\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_2__components_common_mUtils__[\"d\" /* setStore */])('userToken', result.accessToken);\n          setTimeout(function () {\n            _this2.$router.go(-2);\n          }, 1500);\n        } else {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])(msg);\n        }\n      }, function (response) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])('网络连接异常');\n        console.log(response);\n      });\n    },\n    objToformData: function objToformData(obj) {\n      var params = new FormData();\n      __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(obj).forEach(function (key, i) {\n        params.append(key, obj[key]);\n      });\n      return params;\n    },\n    handleIphonCode: function handleIphonCode() {\n      var _this3 = this;\n\n      if (this.iphone && !this.codeBtnDisabled) {\n        this.codeBtnDisabled = 1;\n\n        this.getSmscode(this.iphone);\n        var _this = this;\n        var callback = function callback() {\n          if (_this3.codeTime > 0) {\n            var text = _this3.codeTime--;\n            _this3.iphoneCodeBtnText = text + 's';\n          } else {\n            _this3.codeBtnDisabled = 0;\n            _this3.iphoneCodeBtnText = '发送验证码';\n            clearTimeout(_this3.intervalTime);\n            _this3.codeTime = 60;\n          }\n        };\n\n        this.intervalTime = setInterval(callback, 1000);\n      }\n    },\n    intervalT: function intervalT() {\n      setInterval(function () {}, 1000);\n    },\n    showMsg: function showMsg(msg) {\n      __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])({\n        message: msg,\n        duration: 800\n      });\n    },\n    getSmscode: function getSmscode(iphone) {\n      var getUrl = this.CFWConfig.APIHost + '/v3/user/sendsmscode';\n      var _this = this;\n      this.$http.post(getUrl, { tel: iphone }).then(function (response) {\n        var code = response.data.code;\n        if (code == 200) {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])('验证码已送到您手机！');\n        } else {\n          __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])(response.data.msg);\n        }\n      }, function (response) {\n        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])('获取验证码失败');\n        console.log(response);\n      });\n    }\n  }\n\n});\n\n/***/ }),\n\n/***/ 409:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(329);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(130)(\"cbb4284a\", content, true);\n\n/***/ }),\n\n/***/ 479:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"login\"\n    }\n  }, [_c('mt-header', {\n    attrs: {\n      \"title\": \"用户注册\"\n    }\n  }, [_c('mt-button', {\n    attrs: {\n      \"icon\": \"back\"\n    },\n    on: {\n      \"click\": _vm.handleBack\n    },\n    slot: \"left\"\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"warp\"\n    }\n  }, [_c('mt-field', {\n    attrs: {\n      \"label\": \"手机号\",\n      \"placeholder\": \"请输入手机号\",\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.iphone),\n      callback: function($$v) {\n        _vm.iphone = $$v\n      },\n      expression: \"iphone\"\n    }\n  }), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"placeholder\": \"请输入验证码\",\n      \"type\": \"number\"\n    },\n    model: {\n      value: (_vm.iphoneCode),\n      callback: function($$v) {\n        _vm.iphoneCode = $$v\n      },\n      expression: \"iphoneCode\"\n    }\n  }, [_c('mt-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.iphone.length == 11),\n      expression: \"iphone.length==11\"\n    }],\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.handleIphonCode()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.iphoneCodeBtnText))])], 1), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"密  码\",\n      \"placeholder\": \"请输入密码\",\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.passWrod),\n      callback: function($$v) {\n        _vm.passWrod = $$v\n      },\n      expression: \"passWrod\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginBtnTop\"\n  }), _vm._v(\" \"), (_vm.agreement) ? _c('mt-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleRegister()\n      }\n    }\n  }, [_vm._v(\"确认注册\")]) : _vm._e()], 1)], 1)\n},staticRenderFns: []}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// ask/js/28.9103df13cd6215cd1112.js","\n/* styles */\nrequire(\"!!../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"id\\\":\\\"data-v-62e51ba2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./register.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./register.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62e51ba2\\\"}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./register.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/page/myinfo/register.vue\n// module id = 160\n// module chunks = 28","/**\n * 存储localStorage\n */\nexport const setStore = (name, content) => {\n\tif (!name) return;\n\tif (typeof content !== 'string') {\n\t\tcontent = JSON.stringify(content);\n\t}\n\twindow.localStorage.setItem(name, content);\n}\n\n/**\n * 获取localStorage\n */\nexport const getStore = name => {\n\tif (!name) return;\n\treturn window.localStorage.getItem(name);\n}\n\n/**\n * 删除localStorage\n */\nexport const removeStore = name => {\n\tif (!name) return;\n\twindow.localStorage.removeItem(name);\n}\n\n// imgBaseUrl: 图片所在域名地址\nlet baseUrl;\nconst imgBaseUrl = '//p.07358.com/';\nexport {\n\timgBaseUrl,\n}\n\nconst upImgBaseUrl = 'http://qpic.07358.com/';\nexport {\n\tupImgBaseUrl,\n}\n\n//  用户头像\nexport const getUserAvatar = avatarPath => {\n\tif (avatarPath == '' || !avatarPath ) {\n\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\"\n\t}else {\n\t\tlet indexOf = avatarPath.indexOf('http://tu.07358.com')\n\t\tif(indexOf != -1){\n\t\t\treturn avatarPath\n\t\t}else {\n\t\t\tif (avatarPath == '          ') {\n\t\t\t\treturn \"http://jimg.07358.com/Fnhc3IKMv02O5Udciy3gsPCf6C6y\"\n\t\t\t}else {\n\t\t\t\treturn imgBaseUrl + avatarPath\n\t\t\t}\n\t\t}\n\t}\n}\n\n// 判断一个元素是否在数组中\nexport const isInArray = (arr,value) =>{\n\tfor(var i = 0; i < arr.length; i++){\n\t\t\tif(value === arr[i]){\n\t\t\t\t\treturn true;\n\t\t\t}\n\t}\n\treturn false;\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/common/mUtils.js","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/json/stringify.js\n// module id = 163\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29","var core  = require('../../modules/_core')\n  , $JSON = core.JSON || (core.JSON = {stringify: JSON.stringify});\nmodule.exports = function stringify(it){ // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/json/stringify.js\n// module id = 164\n// module chunks = 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29","exports = module.exports = require(\"../../../node_modules/._css-loader@0.26.4@css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"#warp{margin:10px auto}#warp .loginTitle{font-size:20px;line-height:60px}.seitchBtn{width:60px}.seitchText{width:200px;text-align:left}.seitchText strong{color:blue}.loginBtnTop{border-top:1px solid #eee;height:30px}\", \"\", {\"version\":3,\"sources\":[\"/Users/kb/Desktop/code/CFWASK/src/page/myinfo/register.vue\"],\"names\":[],\"mappings\":\"AAGA,MAEE,gBAAkB,CACnB,AACD,kBACE,eAAe,AAEf,gBAAkB,CACnB,AACD,WAEE,UAAY,CACb,AACD,YACE,YAAa,AACb,eAAiB,CAElB,AACD,mBACE,UAAY,CACb,AACD,aACE,0BAA2B,AAC3B,WAAa,CACd\",\"file\":\"register.vue\",\"sourcesContent\":[\"\\n#login{\\n}\\n#warp{\\n  /*width: 95%;*/\\n  margin: 10px auto;\\n}\\n#warp .loginTitle{\\n  font-size:20px;\\n  /*height: 60px;*/\\n  line-height: 60px;\\n}\\n.seitchBtn{\\n  /*border: 1px solid red;*/\\n  width: 60px;\\n}\\n.seitchText{\\n  width: 200px;\\n  text-align: left;\\n  /*border: 1px solid green;*/\\n}\\n.seitchText strong{\\n  color: blue;\\n}\\n.loginBtnTop{\\n  border-top: 1px solid #EEE;\\n  height: 30px;\\n}\\n\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/._css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-62e51ba2\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/myinfo/register.vue\n// module id = 329\n// module chunks = 28","<template>\n  <div id=\"login\">\n    <mt-header title=\"用户注册\">\n      <mt-button  icon=\"back\" slot=\"left\" @click=\"handleBack\">返回</mt-button>\n    </mt-header>\n\n    <div id=\"warp\">\n      <!-- <mt-field label=\"姓  名\" placeholder=\"请输入姓名\" v-model=\"userName\"></mt-field> -->\n      <mt-field label=\"手机号\" placeholder=\"请输入手机号\" type=\"tel\" v-model=\"iphone\"></mt-field>\n      <mt-field label=\"验证码\" placeholder=\"请输入验证码\" type=\"number\" v-model=\"iphoneCode\">\n        <mt-button size=\"small\" type=\"primary\" @click.native=\"handleIphonCode()\" v-show=\"iphone.length==11\">{{iphoneCodeBtnText}}</mt-button>\n      </mt-field>\n      <mt-field label=\"密  码\" placeholder=\"请输入密码\" type=\"password\" v-model=\"passWrod\"></mt-field>\n      <!-- <mt-radio\n        v-model=\"value\"\n        align=\"left\"\n        :options=\"['同意且已阅读 [用户协议]']\">\n        llll\n      </mt-radio> -->\n      <div class=\"loginBtnTop\"></div>\n      <mt-button  type=\"primary\" size=\"large\" @click=\"handleRegister()\" v-if=\"agreement\">确认注册</mt-button>\n    </div>\n\n\n  </div>\n</template>\n\n<script>\nimport { Toast } from 'mint-ui';\nimport {getStore, setStore} from '../../components/common/mUtils'\nexport default {\n  data(){\n    return{\n      iphone:'',\n      iphoneCode:'',\n      passWrod:'',\n      codeBtnDisabled:false,\n      iphoneCodeBtnText:'发送验证码',\n      yqm:'', // 邀请码\n      codeTime:60,\n      agreement:true,\n      intervalTime:{},\n\n    }\n  },\n  created(){\n  },\n  mounted(){\n  },\n  components:{\n  },\n  methods: {\n    handleBack(){\n      this.$router.go(-1);\n    },\n    gotoAddress(path){\n      this.$router.push(path)\n    },\n    // 注册\n    handleRegister(){\n      if (!this.iphone) {\n        this.showMsg('请输入手机号码！')\n        return\n      }\n      if (!this.iphoneCode) {\n        this.showMsg('请输入验证码！')\n        return\n      }\n      if (!this.passWrod) {\n        this.showMsg('请设置密码！')\n        return\n      }\n\n      let params = {\n        tel:this.iphone,\n        verifyCode:this.iphoneCode,\n        newpassword:this.passWrod,\n      }\n\n      // console.log(params)\n      let getUrl = this.CFWConfig.APIHost + '/v3/user/reg'\n      var _this = this;\n      this.$http.post(getUrl,this.objToformData(params)).then(response => {\n        console.log(response.data);\n        let code = response.data.code\n        let msg = response.data.message\n        let user = response.data.result\n        if (code == 200) {\n          let result = response.data\n          setStore('userID',result.id)\n          setStore('userToken',result.accessToken)\n          setTimeout(() => {\n            this.$router.go(-2)\n          }, 1500);\n        }else {\n          Toast(msg)\n        }\n      }, response => {\n        Toast('网络连接异常')\n        console.log(response);\n      });\n    },\n    // 参数转化成表单对象\n    objToformData(obj){\n      // let params = new URLSearchParams()\n      let params = new FormData()\n      Object.keys(obj).forEach( (key, i) => {\n        params.append(key, obj[key]);\n      });\n      return params;\n    },\n    // 发送验证码\n    handleIphonCode(){\n      if (this.iphone && !this.codeBtnDisabled) {\n        this.codeBtnDisabled = 1;\n\n        this.getSmscode(this.iphone);\n        var _this = this;\n        var callback = ()=>{\n          if (this.codeTime > 0) {\n              let text = this.codeTime --\n              this.iphoneCodeBtnText = text+'s'\n          }else {\n            this.codeBtnDisabled = 0;\n            this.iphoneCodeBtnText = '发送验证码'\n            clearTimeout(this.intervalTime);\n            this.codeTime = 60\n          }\n        }\n\n        this.intervalTime = setInterval(callback,1000);\n      }\n    },\n    // 记时器\n    intervalT(){\n      setInterval(function () {\n\n      }, 1000);\n    },\n    showMsg(msg){\n      Toast({\n        message:msg,\n        duration: 800\n      });\n    },\n    // 发送验证码\n    getSmscode(iphone){\n      let getUrl = this.CFWConfig.APIHost + '/v3/user/sendsmscode'\n      var _this = this;\n      this.$http.post(getUrl,{tel:iphone}).then(response => {\n        let code = response.data.code;\n        if (code == 200) {\n          Toast('验证码已送到您手机！')\n        }else {\n          Toast(response.data.msg)\n        }\n      }, response => {\n        Toast('获取验证码失败')\n        console.log(response);\n      });\n    }\n  },\n\n}\n</script>\n\n<style>\n#login{\n\n}\n#warp{\n  /*width: 95%;*/\n  margin: 10px auto;\n}\n#warp .loginTitle{\n  font-size:20px;\n  /*height: 60px;*/\n  line-height: 60px;\n}\n\n.seitchBtn{\n  /*border: 1px solid red;*/\n  width: 60px;\n}\n\n.seitchText{\n  width: 200px;\n  text-align: left;\n  /*border: 1px solid green;*/\n}\n\n.seitchText strong{\n  color: blue;\n}\n\n.loginBtnTop{\n  border-top: 1px solid #EEE;\n  height: 30px;\n}\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// register.vue?6c019491","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/._css-loader@0.26.4@css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"id\\\":\\\"data-v-62e51ba2\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./register.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"cbb4284a\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/._css-loader@0.26.4@css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"id\":\"data-v-62e51ba2\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/page/myinfo/register.vue\n// module id = 409\n// module chunks = 28","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"login\"\n    }\n  }, [_c('mt-header', {\n    attrs: {\n      \"title\": \"用户注册\"\n    }\n  }, [_c('mt-button', {\n    attrs: {\n      \"icon\": \"back\"\n    },\n    on: {\n      \"click\": _vm.handleBack\n    },\n    slot: \"left\"\n  }, [_vm._v(\"返回\")])], 1), _vm._v(\" \"), _c('div', {\n    attrs: {\n      \"id\": \"warp\"\n    }\n  }, [_c('mt-field', {\n    attrs: {\n      \"label\": \"手机号\",\n      \"placeholder\": \"请输入手机号\",\n      \"type\": \"tel\"\n    },\n    model: {\n      value: (_vm.iphone),\n      callback: function($$v) {\n        _vm.iphone = $$v\n      },\n      expression: \"iphone\"\n    }\n  }), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"验证码\",\n      \"placeholder\": \"请输入验证码\",\n      \"type\": \"number\"\n    },\n    model: {\n      value: (_vm.iphoneCode),\n      callback: function($$v) {\n        _vm.iphoneCode = $$v\n      },\n      expression: \"iphoneCode\"\n    }\n  }, [_c('mt-button', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.iphone.length == 11),\n      expression: \"iphone.length==11\"\n    }],\n    attrs: {\n      \"size\": \"small\",\n      \"type\": \"primary\"\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.handleIphonCode()\n      }\n    }\n  }, [_vm._v(_vm._s(_vm.iphoneCodeBtnText))])], 1), _vm._v(\" \"), _c('mt-field', {\n    attrs: {\n      \"label\": \"密  码\",\n      \"placeholder\": \"请输入密码\",\n      \"type\": \"password\"\n    },\n    model: {\n      value: (_vm.passWrod),\n      callback: function($$v) {\n        _vm.passWrod = $$v\n      },\n      expression: \"passWrod\"\n    }\n  }), _vm._v(\" \"), _c('div', {\n    staticClass: \"loginBtnTop\"\n  }), _vm._v(\" \"), (_vm.agreement) ? _c('mt-button', {\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    },\n    on: {\n      \"click\": function($event) {\n        _vm.handleRegister()\n      }\n    }\n  }, [_vm._v(\"确认注册\")]) : _vm._e()], 1)], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-62e51ba2\"}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/page/myinfo/register.vue\n// module id = 479\n// module chunks = 28"],"sourceRoot":""}